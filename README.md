# Embedded DB Perf Test

Wanted to check performance of using SQLite vs. Rocks vs. ???

## Overall Results

```
Total Performance
┌───────────────────┬───────────────────┬───────────────────┬──────────────────┐
│Backing            │Count              │Duration (ms)      │Rate (rows/sec)   │
├───────────────────┼───────────────────┼───────────────────┼──────────────────┤
│NOOP               │4,000,000          │5,468              │731,528.90        │
├───────────────────┼───────────────────┼───────────────────┼──────────────────┤
│MapStore           │4,000,000          │9,420              │424,628.45        │
├───────────────────┼───────────────────┼───────────────────┼──────────────────┤
│RocksDB            │4,000,000          │33,902             │117,987.14        │
├───────────────────┼───────────────────┼───────────────────┼──────────────────┤
│Sqlite             │8,000              │2,611              │3,063.96          │
└───────────────────┴───────────────────┴───────────────────┴──────────────────┘
```

## Technology Results

```
NOOP (4,000,000 ops)
┌───────────────────┬───────────────────┬───────────────────┬──────────────────┐
│Operation          │Count              │Duration (ms)      │Rate (rows/sec)   │
├───────────────────┼───────────────────┼───────────────────┼──────────────────┤
│Writes             │1,000,000          │2,860              │349,650.35        │
├───────────────────┼───────────────────┼───────────────────┼──────────────────┤
│Reads              │1,000,000          │1,282              │780,031.20        │
├───────────────────┼───────────────────┼───────────────────┼──────────────────┤
│Scan @50           │1,000,000          │0                  │Infinity          │
├───────────────────┼───────────────────┼───────────────────┼──────────────────┤
│Deletes            │1,000,000          │1,323              │755,857.90        │
└───────────────────┴───────────────────┴───────────────────┴──────────────────┘
MapStore (4,000,000 ops)
┌───────────────────┬───────────────────┬───────────────────┬──────────────────┐
│Operation          │Count              │Duration (ms)      │Rate (rows/sec)   │
├───────────────────┼───────────────────┼───────────────────┼──────────────────┤
│Writes             │1,000,000          │2,980              │335,570.47        │
├───────────────────┼───────────────────┼───────────────────┼──────────────────┤
│Reads              │1,000,000          │1,832              │545,851.53        │
├───────────────────┼───────────────────┼───────────────────┼──────────────────┤
│Scan @50           │1,000,000          │2,739              │365,096.75        │
├───────────────────┼───────────────────┼───────────────────┼──────────────────┤
│Deletes            │1,000,000          │1,866              │535,905.68        │
└───────────────────┴───────────────────┴───────────────────┴──────────────────┘
RocksDB (4,000,000 ops)
┌───────────────────┬───────────────────┬───────────────────┬──────────────────┐
│Operation          │Count              │Duration (ms)      │Rate (rows/sec)   │
├───────────────────┼───────────────────┼───────────────────┼──────────────────┤
│Writes             │1,000,000          │12,382             │80,762.40         │
├───────────────────┼───────────────────┼───────────────────┼──────────────────┤
│Reads              │1,000,000          │10,942             │91,390.97         │
├───────────────────┼───────────────────┼───────────────────┼──────────────────┤
│Scan @50           │1,000,000          │1                  │1,000,000,000.00  │
├───────────────────┼───────────────────┼───────────────────┼──────────────────┤
│Deletes            │1,000,000          │10,577             │94,544.77         │
└───────────────────┴───────────────────┴───────────────────┴──────────────────┘
Sqlite (8,000 ops)
┌───────────────────┬───────────────────┬───────────────────┬──────────────────┐
│Operation          │Count              │Duration (ms)      │Rate (rows/sec)   │
├───────────────────┼───────────────────┼───────────────────┼──────────────────┤
│Writes             │2,000              │975                │2,051.28          │
├───────────────────┼───────────────────┼───────────────────┼──────────────────┤
│Reads              │2,000              │116                │17,241.38         │
├───────────────────┼───────────────────┼───────────────────┼──────────────────┤
│Scan @50           │2,000              │1                  │2,000,000.00      │
├───────────────────┼───────────────────┼───────────────────┼──────────────────┤
│Deletes            │2,000              │1,519              │1,316.66          │
└───────────────────┴───────────────────┴───────────────────┴──────────────────┘
```

## Running

```
$ ./gradlew clean build runBoot
```